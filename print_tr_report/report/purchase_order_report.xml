<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="purchase_order_report_id">
        <t t-call="web.basic_layout">
            <t t-foreach="docs" t-as="o">
                <div class="header">
                    <style>
                        table.table-nobordered{
                        border:1px solid white;
                        border-collapse: collapse;
                        width: 100%;
                        margin: 0px;
                        margin-top: 2px;
                        }
                        table.table-nobordered &gt; thead &gt; tr &gt; th{
                        border:1px solid white;
                        border-collapse: collapse;
                        }
                        table.table-nobordered &gt; thead &gt; tr &gt; td{
                        border:1px solid white;
                        border-left: 1px solid red;
                        border-collapse: collapse;
                        }
                        table.table-nobordered &gt; tbody &gt; tr &gt; td{
                        border:0px solid white;
                        border-left: 1px solid white;
                        border-collapse: collapse;
                        height: 40px;
                        }
                        table.table-nobordered &gt; tfoot &gt; tr &gt; td{
                        border:1px solid white;
                        border-collapse: collapse;
                        }

                        .word_wrap{word-wrap: break-word;}

                        .td_top{
                        border-top:#000 solid 1px;
                        }
                        .td_left{
                        border-left:#000 solid 1px;
                        }
                        .td_right{
                        border-right:#000 solid 1px;
                        }
                        .td_bott{
                        border-bottom:#000 solid 1px;
                        }

                    </style>
                    <t t-if="o.operating_unit_id.partner_id">
                        <t t-set="operating_unit" t-value="o.operating_unit_id.partner_id"/>
                    </t>
                    <table width="100%" class="td_bott" style="font-family:TH SarabunPSK;                     src:url(/print_tr_report/static/THSarabun.ttf);">
                        <tr>
                            <td width="0%" rowspan="2" style="vertical-align: middle;">
                                <!--<img t-if="o.company_id.logo" t-att-src="'data:image/png;base64,%s' % to_text(o.company_id.logo)" style="max-height: 180px; max-width: 150px;"/>-->
                            </td>
                            <td width="70%" style="vertical-align: middle;">
                                <div style="width:480px; word-wrap: break-word;">
                                    <font style="font-size: 20px; line-height:22px;">
                                        <font style="font-size: 25px;">
                                            <span t-field="o.company_id.name"/>&amp;nbsp;
                                            <t t-if="operating_unit.branch_no == '00000'">
                                                <span>(สำนักงานใหญ่)</span>
                                            </t>
                                            <t t-if="operating_unit.branch_no != '00000'">
                                                (<span t-field="operating_unit.branch_no"/>)
                                            </t>
                                        </font><br/>
                                        <font style="font-size: 25px;">
                                            <t t-if="o.company_id.eng_name">
                                                <span t-field="o.company_id.eng_name"/>&amp;nbsp;
                                                <t t-if="operating_unit.branch_no == '00000'">
                                                    <span>(Head office)</span>
                                                </t>
                                                <t t-if="operating_unit.branch_no != '00000'">
                                                    (<span t-field="operating_unit.branch_no"/>)
                                                </t>
                                            </t>
                                        </font><br/>
                                        <!--thai address-->
                                        <span t-esc="operating_unit.get_partner_full_address_text()"/><br/>


                                        <!--English address-->
                                        <t t-if="operating_unit.eng_address"><span t-field="operating_unit.eng_address"/><br/></t>
                                        <!--Thai phone fax-->
                                        <t t-if="operating_unit.phone">โทรศัพท์&amp;nbsp;<span t-esc="operating_unit.phone"/>&amp;nbsp;</t><t t-if="operating_unit.fax">แฟกซ์&amp;nbsp;<span t-esc="operating_unit.fax"/>&amp;nbsp;</t><br/>
                                        <!--English phone fax-->
                                        <t t-set="operating_unit_phone" t-value="operating_unit.phone"/>
                                        <t t-set="operating_unit_fax" t-value="operating_unit.fax"/>
                                        <t t-if="operating_unit.phone">Tel&amp;nbsp;+66<span t-esc="operating_unit_phone[1:len(operating_unit_phone)]"/>&amp;nbsp;</t><t t-if="operating_unit.fax">Fax&amp;nbsp;<span t-esc="operating_unit_fax[1:len(operating_unit_fax)]"/>&amp;nbsp;</t><br/>
                                    </font>
                                </div>
                            </td>
                            <td width="30%" style="text-align:left; vertical-align: middle;" rowspan="2">
                                <div style="text-align:center;">
                                    <font style="font-size:40px;">
                                        <strong>ใบสั่งซื้อ</strong><br/>

                                    </font>
                                    <font style="font-size:32px; line-height:28px;">
                                        <strong>PURCHASE ORDER</strong><br/>
                                    </font><br/>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <font style="font-size: 20px;">
                                    <span>เลขประจำตัวผู้เสียภาษีอากร TAX. &amp;nbsp;</span><span t-esc="o.company_id.vat"/><br/>
                                </font>
                            </td>
                        </tr>
                    </table>
                    <table width="100%" style="font-family:TH SarabunPSK;                     src:url(/print_tr_report/static/THSarabun.ttf);">
                        <tr>
                            <td width="12%">
                                <font style="font-size: 22px;">
                                    <span><B>รหัสผู้ขาย</B></span>
                                </font><br/>
                                <font style="font-size: 18px;">
                                    <span>Supplier's Code</span>
                                </font>
                            </td>
                            <td width="65%">
                                <font style="font-size: 22px;">
                                    <span t-field="o.partner_id.ref"/>&amp;nbsp;&amp;nbsp;&amp;nbsp;
                                    <span>เลขประจำตัวผู้เสียภาษีอากร&amp;nbsp;:&amp;nbsp;</span>
                                    <span t-esc="o.partner_id.vat"/>
                                </font>
                            </td>
                            <td width="23%" rowspan="6">
                                <table width="100%">
                                    <tr>
                                        <td width="38%">
                                            <div style="margin-top:-15px">
                                                <font style="font-size: 22px;">
                                                    <br/>
                                                    <span><B>เลขที่/No</B></span><br/><br/>
                                                    <span><B>วันที่/Date</B></span><br/>
                                                    <br/><br/>
                                                </font>
                                            </div>
                                        </td>
                                        <td width="62%">
                                            <div style="margin-top:-15px">
                                                <font style="font-size: 22px;">
                                                    <br/>
                                                    <span t-field="o.name"/><br/><br/>
                                                    <span t-field="o.date_order" t-field-options="{&quot;widget&quot;: &quot;date&quot;}"/><br/>
                                                    <br/><br/>
                                                </font>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td width="12%">
                                <font style="font-size: 22px;">
                                    <span><B>ผู้ขาย</B></span>
                                </font><br/>
                                <font style="font-size: 18px;">
                                    <span>Supplier's Name</span>
                                </font>
                            </td>
                            <td width="65%">
                                <font style="font-size: 22px;">
                                    <span t-field="o.partner_id.name"/>&amp;nbsp;
                                    <t t-if="o.partner_id.branch_no == '00000'">
                                        <span>(สำนักงานใหญ่)</span>
                                    </t>
                                    <t t-if="o.partner_id.branch_no != '00000'">
                                        <span>(สาขาที่ <span t-esc="o.partner_id.branch_no"/>)</span>
                                    </t>
                                </font>
                            </td>
                        </tr>
                        <tr>
                            <td width="12%">
                                <font style="font-size: 22px;">
                                    <span><B>ที่อยู่</B></span>
                                </font><br/>
                                <font style="font-size: 18px;">
                                    <span>Address</span>
                                </font>
                            </td>
                            <td width="68%">
                                <font style="font-size: 22px; line-height:20px;">
                                    <t t-if="o.partner_id.street"><span t-field="o.partner_id.street"/><br/></t>
                                    <t t-if="o.partner_id.street2"><span t-field="o.partner_id.street2"/>&amp;nbsp;</t>
                                    <span t-if="o.partner_id.sub_district_id.name and o.partner_id.state_id.code == 'BKK'">แขวง<span t-field="o.partner_id.sub_district_id.name"/>&amp;nbsp;</span>
                                    <span t-if="o.partner_id.sub_district_id.name and o.partner_id.state_id.code != 'BKK'">ต.<span t-field="o.partner_id.sub_district_id.name"/>&amp;nbsp;</span>
                                    <span t-if="o.partner_id.district_id.name and o.partner_id.state_id.code == 'BKK'">เขต<span t-field="o.partner_id.district_id.name"/>&amp;nbsp;</span>
                                    <span t-if="o.partner_id.district_id.name and o.partner_id.state_id.code != 'BKK'">อ.<span t-field="o.partner_id.district_id.name"/>&amp;nbsp;</span>
                                    <!--<span t-if="o.partner_id.city and o.partner_id.state_id and o.partner_id.state_id.code == 'BKK'">เขต<span t-field="o.partner_id.city"/></span>-->
                                    <!--<span t-if="o.partner_id.city and o.partner_id.state_id and o.partner_id.state_id.code != 'BKK'">อ.<span t-field="o.partner_id.city"/></span>-->
                                    <span t-if="o.partner_id.state_id.name and o.partner_id.state_id.code == 'BKK'"><span t-field="o.partner_id.state_id.name"/>&amp;nbsp;</span>
                                    <span t-if="o.partner_id.state_id.name and o.partner_id.state_id.code != 'BKK'">จ.<span t-field="o.partner_id.state_id.name"/>&amp;nbsp;</span>
                                    <t t-if="o.partner_id.zip"><span t-esc="o.partner_id.zip"/>&amp;nbsp;</t>
                                    <t t-if="o.partner_id.phone">โทร:&amp;nbsp;<span t-esc="o.partner_id.phone"/>&amp;nbsp;</t>
                                    <t t-if="o.partner_id.email"> อีเมล:&amp;nbsp;<span t-esc="o.partner_id.email"/></t>
                                    <!--<t t-if="o.contact_person">-->
                                    <!--<span t-if="o.contact_person.phone">โทร:&amp;nbsp;<span t-esc="o.partner_id.phone"/>&amp;nbsp;</span>-->
                                    <!--<span t-if="o.contact_person.email">อีเมล:&amp;nbsp;<span t-esc="o.partner_id.email"/></span><br/>-->
                                    <!--</t>-->
                                </font>
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="page">
                    <style>
                        table.table-bordered1 &gt; thead &gt; tr &gt; th{
                        border:1px solid black;
                        border-collapse: collapse;
                        }
                        table.table-bordered1 &gt; tbody &gt; tr &gt; td{
                        border:1px solid black;
                        border-collapse: collapse;
                        }
                        table.table-bordered1 &gt; tfoot &gt; tr &gt; td{
                        border:1px solid black;
                        border-collapse: collapse;
                        }

                        .word_wrap{
                        word-wrap: break-word;
                        line-height:18px;
                        }

                        table.table-bordered {
                        border:1px solid black;
                        padding:3px;
                        }
                        table.table-bordered &gt; thead &gt; tr &gt; th{
                        border:1px solid black;
                        vertical-align :middle;
                        text-align:center;
                        line-height:18px;
                        padding:3px;
                        }
                        table.table-bordered &gt; tbody &gt; tr &gt; td{
                        border:0px solid white;
                        border-left: 1px solid black;
                        padding:3px;
                        }
                        table.table-bordered &gt; tfoot &gt; tr &gt; td{
                        border:1px solid black;
                        padding:3px;
                        }

                        .word_wrap_hidden{
                        word-wrap: break-word;
                        line-height:18px;
                        height:50px;
                        overflow: hidden;
                        vertical-align: top;
                        }
                        .word_wrap_hidden_2{
                        word-wrap: break-word;
                        line-height:18px;
                        height:40px;
                        overflow: hidden;
                        vertical-align: top;
                        }
                        <!--********************************white-space: nowrap;-->

                        .td_top{
                        border-top:#000 solid 1px;
                        }
                    </style>
                    <table width="100%" style="font-family:TH SarabunPSK; border-top:#000 solid 1px;src:url(/print_tr_report/static/THSarabun.ttf); font-size: 22px; text-align: center;">
                        <tr>
                            <td width="20%">
                                <span><B>อ้างอิง</B></span><br/>
                                <font style="font-size: 20px;">
                                    <span>PR/Quotation</span><br/>
                                    <t t-set="pr_id" t-value="o.get_pr_id()"/>
                                    <span t-if="pr_id" t-esc="pr_id.name"/>
                                    <span t-if="not pr_id" t-esc="o.partner_ref"/>
                                </font>
                            </td>
                            <td width="20%">
                                <span><B>กำหนดส่ง</B></span><br/>
                                <font style="font-size: 20px;">
                                    <span>Delivery Plan</span><br/>
                                    <t t-if="o.date_planned">
                                        <span t-field="o.date_planned" t-field-options="{&quot;widget&quot;: &quot;date&quot;}"/>
                                    </t>
                                    <t t-if="not o.date_planned">
                                        <br/>
                                    </t>
                                </font>
                            </td>
                            <td width="20%">
                                <span><B>เงื่อนไขการชำระเงิน</B></span><br/>
                                <font style="font-size: 20px;">
                                    <span>Term of Payment</span><br/>
                                    <t t-if="o.payment_term_id.name">
                                        <span t-field="o.payment_term_id.name"/>
                                    </t>
                                    <t t-if="not o.payment_term_id.name">
                                        <br/>
                                    </t>
                                </font>
                            </td>
                            <td width="20%">
                                <span><B>สถานที่จัดส่ง</B></span><br/>
                                <font style="font-size: 20px;">
                                    <span>Delivery of Location</span><br/>
                                    <t t-if="o.delivery_address">
                                        <span t-esc="o.delivery_address"/>
                                    </t>
                                    <t t-if="not o.delivery_address">
                                        <br/>
                                    </t>
                                </font>
                            </td>
                            <td width="20%">
                                <span><B>ผู้ขอซื้อ</B></span><br/>
                                <font style="font-size: 20px;">
                                    <span>Purchase Request</span><br/>
                                    <span t-if="pr_id" t-esc="pr_id.create_uid.name"/>
                                    <span t-if="not pr_id" t-esc="o.create_uid.name"/>
                                </font>
                            </td>
                        </tr>
                        <!--<tr style="line-height:500px;">-->
                        <!--    <td>-->
                        <!--        <div class="word_wrap_hidden" style="width:165px;">-->
                        <!--            <t t-set="pr_id" t-value="o.get_pr_id()"/>-->
                        <!--            <span t-if="pr_id" t-esc="pr_id.name"/>-->
                        <!--            <span t-if="not pr_id" t-esc="o.partner_ref"/>-->
                        <!--        </div>-->
                        <!--    </td>-->
                        <!--    <td>-->
                        <!--        <div class="word_wrap_hidden" style="width:165px;">-->
                        <!--            <t t-if="o.date_planned">-->
                        <!--                <span t-field="o.date_planned" t-field-options="{&quot;widget&quot;: &quot;date&quot;}"/>-->
                        <!--            </t>-->
                        <!--            <t t-if="not o.date_planned">-->
                        <!--                <br/>-->
                        <!--            </t>-->
                        <!--        </div>-->
                        <!--    </td>-->
                        <!--    <td>-->
                        <!--        <div class="word_wrap_hidden" style="width:165px;">-->
                        <!--            <t t-if="o.payment_term_id.name">-->
                        <!--                <span t-field="o.payment_term_id.name"/>-->
                        <!--            </t>-->
                        <!--            <t t-if="not o.payment_term_id.name">-->
                        <!--                <br/>-->
                        <!--            </t>-->
                        <!--        </div>-->
                        <!--    </td>-->
                        <!--    <td>-->
                        <!--        <div class="word_wrap_hidden" style="width:165px;">-->
                        <!--            <t t-if="o.delivery_address">-->
                        <!--                <span t-esc="o.delivery_address"/>-->
                        <!--            </t>-->
                        <!--            <t t-if="not o.delivery_address">-->
                        <!--                <br/>-->
                        <!--            </t>-->
                        <!--        </div>-->
                        <!--    </td>-->
                        <!--    <td>-->
                        <!--        <div class="word_wrap_hidden" style="width:165px;">-->
                        <!--            <span t-if="pr_id" t-esc="pr_id.create_uid.name"/>-->
                        <!--            <span t-if="not pr_id" t-esc="o.create_uid.name"/>-->
                        <!--        </div>-->
                        <!--    </td>-->
                        <!--</tr>-->
                    </table>

                    <t t-if="not o.discount_view">
                        <t t-set="max_body_height" t-value="160"/>
                    </t>
                    <t t-if="o.discount_view">
                        <t t-set="max_body_height" t-value="160"/>
                    </t>

                    <t t-set="new_line_height" t-value="5"/>
                    <t t-set="row_line_height" t-value="5"/>
                    <t t-set="max_line_lenght" t-value="50"/>

                    <t t-set="break_line" t-value="o.get_break_line(max_body_height,new_line_height,row_line_height,max_line_lenght)"/>
                    <t t-set="start" t-value="0"/>
                    <t t-set="end" t-value="0"/>

                    <t t-foreach="range(0,len(break_line),1)" t-as="x">
                        <t t-if="not o.discount_view">
                            <table width="100%" style="height:120mm; font-family:TH SarabunPSK;                                                 src:url(/print_tr_report/static/THSarabun.ttf);" class="table table-bordered">
                                <thead style="font-size: 20px;">
                                    <tr style="text-align:center">
                                        <th width="5%" scope="col">ลำดับ<br/>NO</th>
                                        <th width="35%" scope="col">รายการ<br/>DESCRIPTION</th>
                                        <th width="10%" scope="col">จำนวน/หน่วย<br/>QTY/UNIT</th>
                                        <th width="25%" scope="col">คลัง<br/>STOCK</th>
                                        <th width="10%" scope="col">ราคา/หน่วย<br/>UNIT PRICE</th>
                                        <th width="5%" scope="col">ส่วนลด<br/>DISCOUNT</th>
                                        <th width="10%" scope="col">ราคา<br/>AMOUNT</th>


                                        <!--                                        <th width="5%">-->
                                        <!--                                            ลำดับ<br/><span>NO</span>-->
                                        <!--                                        </th>-->
                                        <!--                                        <th width="40%">-->
                                        <!--                                            รายการ<br/><font style="font-size: 16px;">DESCRIPTION</font>-->
                                        <!--                                        </th>-->
                                        <!--                                        <th width="10%">-->
                                        <!--                                            จำนวน/หน่วย<br/><font style="font-size: 16px;">QTY/UNIT</font>-->
                                        <!--                                        </th>-->
                                        <!--                                        <th width="30%" style="text-align:center">-->
                                        <!--                                            คลัง<br/><font style="font-size: 16px;">STOCK</font>-->
                                        <!--                                        </th>-->
                                        <!--                                        <th width="10%" style="text-align:center">-->
                                        <!--                                            ราคา/หน่วย<br/><font style="font-size: 16px;">UNIT PRICE</font>-->
                                        <!--                                        </th>-->
                                        <!--                                        <th width="5%" style="text-align:center">-->
                                        <!--                                            ส่วนลด<br/><font style="font-size: 16px;">DISCOUNT</font>-->
                                        <!--                                        </th>-->
                                        <!--                                        <th width="10%" style="text-align:center">-->
                                        <!--                                            ราคา<br/><font style="font-size: 16px;">AMOUNT</font>-->
                                        <!--                                        </th>-->
                                    </tr>
                                </thead>
                                <tbody class="sale_tbody" style="font-size: 20px;">
                                    <t t-foreach="range(start,break_line[x],1)" t-as="y">
                                        <t t-if="(y+1)!=(break_line[x])">
                                            <tr style="height:35px;">
                                                <td style="text-align:center">
                                                    <div style="width:40px;" class="word_wrap">
                                                        <span t-esc="y+1"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:left">
                                                    <div style="width:350px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].product_id.code">
                                                            [<span t-field="o.order_line[y].product_id.code"/>]&amp;nbsp;
                                                        </t>
                                                        <span t-field="o.order_line[y].name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-field="o.order_line[y].product_qty"/> /
                                                        <span t-field="o.order_line[y].product_uom.name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:95px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].location_dest_id">
                                                            <span t-field="o.order_line[y].location_dest_id"/>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_unit))"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:50px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].discount">
                                                            <span t-field="o.order_line[y].discount"/>&amp;nbsp;%
                                                        </t>
                                                        <t t-if="o.order_line[y].discount_amount">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].discount_amount))"/>
                                                        </t>
                                                        <t t-if="not o.order_line[y].discount and not o.order_line[y].discount_amount">
                                                            <span>0.00</span>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_subtotal))"/>
                                                    </div>
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-if="(y+1)==(break_line[x])">
                                            <tr>
                                                <td style="text-align:center">
                                                    <div style="width:40px;" class="word_wrap">
                                                        <span t-esc="y+1"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:left">
                                                    <div style="width:350px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].product_id.code">
                                                            [<span t-field="o.order_line[y].product_id.code"/>]&amp;nbsp;
                                                        </t>
                                                        <span t-field="o.order_line[y].name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-field="o.order_line[y].product_qty"/> /
                                                        <span t-field="o.order_line[y].product_uom.name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:95px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].location_dest_id">
                                                            <span t-field="o.order_line[y].location_dest_id"/>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_unit))"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:50px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].discount">
                                                            <span t-field="o.order_line[y].discount"/>&amp;nbsp;%
                                                        </t>
                                                        <t t-if="o.order_line[y].discount_amount">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].discount_amount))"/>
                                                        </t>
                                                        <t t-if="not o.order_line[y].discount and not o.order_line[y].discount_amount">
                                                            <span>0.00</span>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_subtotal))"/>
                                                    </div>
                                                </td>
                                            </tr>
                                            <t t-set="end" t-value="(break_line[x])"/>
                                        </t>
                                    </t>
                                </tbody>
                            </table>
                            <t t-set="start" t-value="break_line[x]"/>
                        </t>

                        <t t-if="o.discount_view">
                            <table width="100%" style="height:120mm; font-family:TH SarabunPSK;                             src:url(/print_tr_report/static/THSarabun.ttf);" class="table table-bordered">
                                <thead style="font-size: 20px;">
                                    <tr style="text-align:center">
                                        <th width="5%" scope="col">ลำดับ<br/>NO</th>
                                        <th width="35%" scope="col">รายการ<br/>DESCRIPTION</th>
                                        <th width="10%" scope="col">จำนวน/หน่วย<br/>QTY/UNIT</th>
                                        <th width="25%" scope="col">คลัง<br/>STOCK</th>
                                        <th width="10%" scope="col">ราคา/หน่วย<br/>UNIT PRICE</th>
                                        <th width="5%" scope="col">ส่วนลด<br/>DISCOUNT</th>
                                        <th width="10%" scope="col">ราคา<br/>AMOUNT</th>
                                    </tr>
                                </thead>
                                <tbody class="sale_tbody" style="font-size: 20px;">
                                    <t t-foreach="range(start,break_line[x],1)" t-as="y">
                                        <t t-if="(y+1)!=(break_line[x])">
                                            <tr style="height:35px;">
                                                <td style="text-align:center">
                                                    <div style="width:40px;" class="word_wrap">
                                                        <span t-esc="y+1"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:left">
                                                    <div style="width:300px; " class="word_wrap">
                                                        <t t-if="o.order_line[y].product_id.code">
                                                            [&amp;nbsp;<span t-field="o.order_line[y].product_id.code"/>&amp;nbsp;]&amp;nbsp;
                                                        </t>
                                                        <span t-field="o.order_line[y].name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-field="o.order_line[y].product_qty"/> /
                                                        <span t-field="o.order_line[y].product_uom.name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:70px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].location_dest_id">
                                                            <span t-field="o.order_line[y].location_dest_id"/>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_unit))"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:50px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].discount">
                                                            <span t-field="o.order_line[y].discount"/>&amp;nbsp;%
                                                        </t>
                                                        <t t-if="o.order_line[y].discount_amount">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].discount_amount))"/>
                                                        </t>
                                                        <t t-if="not o.order_line[y].discount and not o.order_line[y].discount_amount">
                                                            <span>0.00</span>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_subtotal))"/>
                                                    </div>
                                                </td>
                                            </tr>
                                        </t>
                                        <t t-if="(y+1)==(break_line[x])">
                                            <tr>
                                                <td style="text-align:center">
                                                    <div style="width:40px;" class="word_wrap">
                                                        <span t-esc="y+1"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:left">
                                                    <div style="width:300px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].product_id.code">
                                                            [&amp;nbsp;<span t-field="o.order_line[y].product_id.code"/>&amp;nbsp;]&amp;nbsp;
                                                        </t>
                                                        <span t-field="o.order_line[y].name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-field="o.order_line[y].product_qty"/> /
                                                        <span t-field="o.order_line[y].product_uom.name"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:center">
                                                    <div style="width:70px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].location_dest_id">
                                                            <span t-field="o.order_line[y].location_dest_id"/>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_unit))"/>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:50px;" class="word_wrap">
                                                        <t t-if="o.order_line[y].discount">
                                                            <span t-field="o.order_line[y].discount"/>&amp;nbsp;%
                                                        </t>
                                                        <t t-if="o.order_line[y].discount_amount">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].discount_amount))"/>
                                                        </t>
                                                        <t t-if="not o.order_line[y].discount and not o.order_line[y].discount_amount">
                                                            <span>0.00</span>
                                                        </t>
                                                    </div>
                                                </td>
                                                <td style="text-align:right">
                                                    <div style="width:80px;" class="word_wrap">
                                                        <span t-esc="'{0:,.2f}'.format(float(o.order_line[y].price_subtotal))"/>
                                                    </div>
                                                </td>
                                            </tr>
                                            <t t-set="end" t-value="(break_line[x])"/>
                                        </t>
                                    </t>
                                </tbody>
                            </table>
                            <t t-set="start" t-value="break_line[x]"/>
                        </t>
                        <table class="table table-bordered1" style="width:100%;line-height:20px; font-family:TH SarabunPSK;src:url(/print_tr_report/static/THSarabun.ttf); font-size: 20px; margin-top:-19px;">
                            <tr style="height:35px;">
                                <td width="75%;">
                                    <div class="col-xs-8" style="text-align:left">
                                        <br/>
                                        <t t-if="o.discount_view">
                                            <br/><br/>
                                        </t>
                                        <span>(<span t-esc="o.num2_words(o.amount_total)"/> ).</span><br/>
                                        <strong t-field="o.company_id.currency_id.name">: </strong><span>(<span t-esc="o.baht_text(o.amount_total)"/> ).</span>
                                    </div>
                                    <div class="col-xs-4" style="text-align:right">
                                        <strong>จํานวนเงินรวม/Grand Total</strong><br/>
                                        <t t-if="o.discount_view == 'Before Tax'">
                                            <strong>สวนลด/Discount</strong><br/>
                                            <strong>รวมมูลคาสินคา/Total</strong><br/>
                                        </t>
                                        <strong>ภาษีมูลคาเพิ่ม/Vat 7%</strong><br/>
                                        <t t-if="o.discount_view == 'After Tax'">
                                            <strong>รวมมูลคาสินคา/Total</strong><br/>
                                            <strong>สวนลด/Discount</strong><br/>
                                        </t>
                                        <strong>รวมเงินสุทธิ/Net Total</strong><br/>
                                    </div>
                                </td>
                                <td width="25%;" style="text-align:right">
                                    <span t-esc="'{0:,.2f}'.format(float(o.amount_untaxed))"/>&amp;nbsp;<span t-field="o.currency_id.name"/><br/>
                                    <t t-if="o.discount_view == 'Before Tax'">
                                        <span t-esc="'{0:,.2f}'.format(float(o.discounted_amount))"/>&amp;nbsp;<span t-field="o.currency_id.name"/><br/>
                                        <span t-esc="'{0:,.2f}'.format(float(o.amount_untaxed - o.discounted_amount))"/>&amp;nbsp;<span t-field="o.currency_id.name"/><br/>
                                    </t>
                                    <span t-esc="'{0:,.2f}'.format(float(o.amount_tax))"/>&amp;nbsp;<span t-field="o.currency_id.name"/><br/>
                                    <t t-if="o.discount_view == 'After Tax'">
                                        <span t-esc="'{0:,.2f}'.format(float(o.amount_untaxed + o.amount_tax))"/>&amp;nbsp;<span t-field="o.currency_id.name"/><br/>
                                        <span t-esc="'{0:,.2f}'.format(float(o.discounted_amount))"/>&amp;nbsp;<span t-field="o.currency_id.name"/><br/>
                                    </t>
                                    <span t-esc="'{0:,.2f}'.format(float(o.amount_total))"/>&amp;nbsp;<span t-field="o.currency_id.name"/><br/>
                                </td>
                            </tr>
                        </table>
                        <p style="page-break-after:always;"/>
                    </t>
                </div>

                <div class="footer">
                    <div class="last-page">
                        <table class="table table-bordered1" style="width:100%;line-height:20px; font-family:TH SarabunPSK;src:url(/print_tr_report/static/THSarabun.ttf); font-size: 20px; margin-top:-35px;">
                            <tr style="line-height:20px;">
                                <td colspan="2" class="last-page">
                                    <div width="100%" class="word_wrap_hidden_2"><strong>หมายเหตุ/Remark</strong>&amp;nbsp;<span t-field="o.notes"/></div>
                                    <div class="col-xs-4 last-page" style="text-align:center">
                                        <div style="height:50px" class="last-page">
                                            <t t-if="o.purchasing_uid">
                                                <t t-if="o.purchasing_uid.image_signature">
                                                    <t t-if="o.state != 'draft' or o.state != 'sent','to approve'">
                                                        <img t-if="o.purchasing_uid.image_signature" t-att-src="'data:image/png;base64,%s' % to_text(o.purchasing_uid.image_signature)" style="position: absolute; left:0px; right:0; left: 0; margin-left: auto; margin-right: auto; max-height: 60px;  max-width:120px"/>
                                                    </t>
                                                </t>
                                            </t>
                                            <t t-if="not o.purchasing_uid">
                                                <t t-if="o.create_uid.image_signature">
                                                    <t t-if="o.state != 'draft' or o.state != 'sent','to approve'">
                                                        <img t-if="o.create_uid.image_signature" t-att-src="'data:image/png;base64,%s' % to_text(o.create_uid.image_signature)" style="position: absolute; left:0px; right:0; left: 0; margin-left: auto; margin-right: auto; max-height: 60px;  max-width:120px"/>
                                                    </t>
                                                </t>
                                            </t>
                                        </div>
                                        <strong>_____________________________</strong><br/>
                                        <t t-if="o.purchasing_uid">
                                            <strong>(<span t-field="o.purchasing_uid"/>)</strong><br/>
                                        </t>
                                        <t t-if="not o.purchasing_uid">
                                            <strong>(เจ้าหน้าที่จัดซื้อ)</strong><br/>
                                        </t>
                                        <span>Purchasing</span>
                                    </div>
                                    <div class="col-xs-4" style="text-align:center">
                                        <t t-if="o.company_id.id == 1">
                                            <div style="height:50px">
                                                <t t-if="o.confirm_uid">
                                                    <t t-if="o.confirm_uid.image_signature">
                                                        <t t-set="confirm_uid" t-value="o.env['res.users'].sudo().search([('id','=',143)])"/>
                                                        <t t-if="o.state != 'draft' or o.state != 'sent','to approve'">
                                                            <img src="/print_tr_report/static/img/jai.jpg" style="position: absolute; left:0px; right:0; left: 0; margin-left: auto; margin-right: auto; max-height: 60px;  max-width:120px;"/>
                                                        </t>
                                                    </t>
                                                </t>
                                            </div>
                                            <strong>_____________________________</strong><br/>
                                            <strong>(jai-eua@wizardautocare.com)</strong><br/>

                                        </t>
                                        <t t-if="o.company_id.id != 1">
                                            <div style="height:50px">
                                                <t t-if="o.confirm_uid">
                                                    <t t-set="confirm_uid" t-value="o.env['res.users'].sudo().search([('id','=',12)])"/>
                                                    <t t-if="o.state != 'draft' or o.state != 'sent','to approve'">
                                                        <img t-if="confirm_uid.image_signature" t-att-src="'data:image/png;base64,%s' % to_text(confirm_uid.image_signature)" style="position: absolute; left:0px; right:0; left: 0; margin-left: auto; margin-right: auto; max-height: 60px;  max-width:120px"/>
                                                    </t>
                                                </t>
                                            </div>
                                            <strong>_____________________________</strong><br/>
                                            <strong>(jai-eua@dealer.com)</strong><br/>
                                        </t>
                                        <span>Purchasing Supervisor</span>
                                    </div>
                                    <div class="col-xs-4" style="text-align:center">
                                        <t t-if="o.company_id.id == 1">
                                            <div style="height:50px">
                                                <t t-if="o.validate_uid">
                                                    <t t-if="o.validate_uid.image_signature">
                                                        <t t-set="validate_uid" t-value="o.env['res.users'].sudo().search([('id','=',69)])"/>
                                                        <t t-if="o.state != 'draft' or o.state != 'sent','to approve'">
                                                            <img src="/print_tr_report/static/img/ch.jpg" style="position: absolute; left:0px; right:0; left: 0; margin-left: auto; margin-right: auto; max-height: 60px;  max-width:120px;"/>
                                                        </t>
                                                    </t>
                                                </t>
                                            </div>
                                            <strong>_____________________________</strong><br/>
                                            <strong>(chaiya@wizardautocare.com)</strong><br/>

                                        </t>
                                        <t t-if="o.company_id.id != 1">
                                            <div style="height:50px">
                                                <t t-if="o.validate_uid">
                                                    <t t-set="validate_uid" t-value="o.env['res.users'].sudo().search([('id','=',446)])"/>
                                                    <t t-if="o.state != 'draft' or o.state != 'sent','to approve'">
                                                        <img t-if="validate_uid.image_signature" t-att-src="'data:image/png;base64,%s' % to_text(validate_uid.image_signature)" style="position: absolute; left:0px; right:0; left: 0; margin-left: auto; margin-right: auto; max-height: 60px;  max-width:120px"/>
                                                    </t>
                                                </t>
                                            </div>
                                            <strong>_____________________________</strong><br/>
                                            <strong>(chaiya@dealer.com)</strong><br/>
                                        </t>
                                        <span>Approvers</span>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-xs-6" style="font-family:TH SarabunPSK;                         src:url(/print_tr_report/static/THSarabun.ttf); font-size: 20px;">
                        <span>FM-PUR - 01/02 แก้ไขครั้งที่ 03</span>
                    </div>
                    <div class="col-xs-6" style="text-align:right;">
                        <font style="font-size: 20px; font-family:TH SarabunPSK;                         src:url(/print_tr_report/static/THSarabun.ttf);">
                            <span>หน้า</span>
                            <span class="page"/>/<span class="topage"/>
                        </font>
                    </div>

                </div>
            </t>
        </t>
    </template>
</odoo>
