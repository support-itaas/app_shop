<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="sale_tax_report_id">
            <t t-if="data['date_to']">
                <t t-set="date" t-value="time.strptime(data['date_to'],'%Y-%m-%d' )"/>
            </t>
            <t t-set="i" t-value="1"/>
            <t t-set="sum_untaxed" t-value="0"/>
            <t t-set="sum_tax" t-value="0"/>
            <t t-set="sum_total" t-value="0"/>
            <t t-call="web.basic_layout">
                <div class="header">
                    <div class="col-xs-12" style="text-align: center">
                        <font style="font-size: 16px;">
                            <h><strong>รายงานภาษีขาย</strong></h>
                        </font>
                    </div>
                    <table width="100%">
                        <tr>
                            <td width="20%" style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span>เดือนภาษี</span>
                                </font>
                            </td>
                            <td width="30%" style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <t t-if="data['date_to']">
                                        <t t-if="date.tm_mon == 1">
                                            <span>มกราคม</span>
                                        </t>
                                        <t t-if="date.tm_mon == 2">
                                            <span>กุมภาพันธ์</span>
                                        </t>
                                        <t t-if="date.tm_mon == 3">
                                            <span>มีนาคม</span>
                                        </t>
                                        <t t-if="date.tm_mon == 4">
                                            <span>เมษายน</span>
                                        </t>
                                        <t t-if="date.tm_mon == 5">
                                            <span>พฤษภาคม</span>
                                        </t>
                                        <t t-if="date.tm_mon == 6">
                                            <span>มิถุนายน</span>
                                        </t>
                                        <t t-if="date.tm_mon == 7">
                                            <span>กรกฎาคม</span>
                                        </t>
                                        <t t-if="date.tm_mon == 8">
                                            <span>สิงหาคม</span>
                                        </t>
                                        <t t-if="date.tm_mon == 9">
                                            <span>กันยายน</span>
                                        </t>
                                        <t t-if="date.tm_mon == 10">
                                            <span>ตุลาคม</span>
                                        </t>
                                        <t t-if="date.tm_mon == 11">
                                            <span>พฤศจิกายน</span>
                                        </t>
                                        <t t-if="date.tm_mon == 12">
                                            <span>ธันวาคม</span>
                                        </t>
                                    </t>
                                </font>
                            </td>
                            <td width="20%" style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span>ปี</span>
                                </font>
                            </td>
                            <td width="30%" style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span t-esc="date.tm_year + 543"/>
                                </font>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span>ชื่อผู้ประกอบการ</span>
                                </font>
                            </td>
                            <td style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span t-esc="company_id.name"/>
                                </font>
                            </td>
                            <td style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span>เลขประจำตัวผู้เสียภาษีอากร</span>
                                </font>
                            </td>
                            <td style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span t-esc="company_id.vat"/>
                                </font>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span>ชื่อสถานประกอบการ</span>
                                </font>
                            </td>
                            <td style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span t-esc="company_id.name"/>
                                </font>
                            </td>
                            <td colspan="2" style="text-align: left;">
                                <t t-if="not operating_unit_id">
                                    <t t-if="company_id.branch_no == '00000'">
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9746;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สำนักงานใหญ่</span><![CDATA[&emsp;]]>
                                        </font>
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9744;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สาขาที่</span><![CDATA[&ensp;]]>
                                        </font>
                                    </t>
                                    <t t-if="company_id.branch_no != '00000'">
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9744;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สำนักงานใหญ่</span><![CDATA[&emsp;]]>
                                        </font>
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9746;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สาขาที่</span><![CDATA[&ensp;]]>
                                            <span t-esc="company_id.branch_no"/>
                                        </font>
                                    </t>
                                </t>
                                <!--################# if OU-->
                                <t t-if="operating_unit_id">
                                    <t t-if="operating_unit_id.partner_id.branch_no == '00000'">
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9746;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สำนักงานใหญ่</span><![CDATA[&emsp;]]>
                                        </font>
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9744;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สาขาที่</span><![CDATA[&ensp;]]>
                                        </font>
                                    </t>
                                    <t t-if="operating_unit_id.partner_id.branch_no != '00000'">
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9744;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สำนักงานใหญ่</span><![CDATA[&emsp;]]>
                                        </font>
                                        <font style="font-size: 22px;">
                                            <![CDATA[&#9746;]]>
                                        </font>
                                        <font style="font-size: 16px;">
                                            <span>สาขาที่</span><![CDATA[&ensp;]]>
                                            <span t-esc="operating_unit_id.partner_id.branch_no"/>
                                        </font>
                                    </t>
                                </t>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span>สถานประกอบการ</span>
                                </font>
                            </td>
                            <td colspan="2" style="text-align: left;">
                                <font style="font-size: 16px;">
                                    <span t-if="company_id.building"><span t-field="company_id.building"/>&amp;nbsp;</span>
                                    <span t-if="company_id.roomnumber">ห้องที่&amp;nbsp;<span t-field="company_id.roomnumber"/>&amp;nbsp;</span>
                                    <span t-if="company_id.floornumber">ชั้นที่&amp;nbsp;<span t-field="company_id.floornumber"/>&amp;nbsp;</span>
                                    <span t-if="company_id.village">หมู่บ้าน&amp;nbsp;<span t-field="company_id.village"/>&amp;nbsp;</span>
                                    <span t-if="company_id.house_number"><span t-field="company_id.house_number"/>&amp;nbsp;</span>
                                    <span t-if="company_id.moo_number">หมู่&amp;nbsp;<span t-field="company_id.moo_number"/>&amp;nbsp;</span>
                                    <span t-if="company_id.tumbon">ตำบล&amp;nbsp;<span t-field="company_id.tumbon"/>&amp;nbsp;</span>
                                    <span t-if="company_id.soi_number">ซอย&amp;nbsp;<span t-field="company_id.soi_number"/>&amp;nbsp;</span>
                                    <span t-if="company_id.street"><span t-esc="company_id.street"/>&amp;nbsp;</span>
                                    <span t-if="company_id.street2"><span t-esc="company_id.street2"/>&amp;nbsp;</span>
                                    <span t-if="company_id.city and company_id.state_id and company_id.state_id.code == 'BKK'">เขต&amp;nbsp;<span t-field="company_id.city" />&amp;nbsp;</span>
                                    <span t-if="company_id.city and company_id.state_id and company_id.state_id.code != 'BKK'">อำเภอ&amp;nbsp;<span t-field="company_id.city" />&amp;nbsp;</span>
                                    <span t-if="company_id.state_id.name">จังหวัด&amp;nbsp;<span t-field="company_id.state_id.name" />&amp;nbsp;</span>
                                </font>
                            </td>
                            <td style="text-align: right;">
                                <font style="font-size: 16px;">
                                    <span>หน้า </span>
                                    <span class="page"/>
                                    <span>/</span>
                                    <span class="topage"/>
                                </font>
                            </td>
                        </tr>
                    </table>
                </div>

                <div class="page">
                    <style>
                        table.table-bordered1{
                        border:1px solid black;
                        margin-top:20px;
                        border-collapse: collapse;
                        width: 100%;
                        }
                        table.table-bordered1 &gt; thead &gt; tr &gt; th{
                        border:1px solid black;
                        border-collapse: collapse;
                        border-left: 1px solid;
                        border-right: 1px solid;
                        border-bottom: 1px solid;
                        border-top: 1px solid;
                        }
                        table.table-bordered1 &gt; tbody &gt; tr &gt; td{
                        border:1px solid black;
                        border-collapse: collapse;
                        border-left: 1px solid;
                        border-right: 1px solid;
                        border-bottom: 1px solid black;
                        border-top: 1px solid;
                        }
                        table.table-bordered1 &gt; tfoot &gt; tr &gt; td{
                        border:1px solid black;
                        border-collapse: collapse;
                        border-left: 1px solid;
                        border-right: 1px solid;
                        border-bottom: 1px solid black;
                        border-top: 1px solid;
                        }

                        table.table-bordered{
                        border:1px solid black;
                        margin-top:20px;
                        border-collapse: collapse;
                        width: 100%;
                        }
                        table.table-bordered &gt; thead &gt; tr &gt; th{
                        border:1px solid black;
                        border-collapse: collapse;
                        }
                        table.table-bordered &gt; tbody &gt; tr &gt; td{
                        border:0px solid black;
                        border-collapse: collapse;
                        border-left:1px solid black;
                        }
                        table.table-bordered &gt; tfoot &gt; tr &gt; td{
                        border:1px solid black;
                        border-collapse: collapse;
                        }

                        table.table-table1 {
                        border:1px solid black;
                        margin-top:20px;
                        border-collapse: collapse;
                        border-left: 1px solid;
                        border-right: 1px solid;
                        border-bottom: 1px solid;
                        border-top: 1px solid;
                        width: 100%;
                        }
                    </style>

                    <div class="content">
                        <table class="table table-bordered1" width="100%">
                            <thead>
                                <tr>
                                    <th rowspan="2" class="col-xs-1" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>ลำดับที่/เล่มที่</span>
                                        </font>
                                    </th>
                                    <th colspan="2" class="col-xs-3" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>ใบกำกับภาษี</span>
                                        </font>
                                    </th>
                                    <th rowspan="2" class="col-xs-2" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>ชื่อผู้ซื้อสินค้า/ผู้รับบริการ</span>
                                        </font>
                                    </th>
                                    <th rowspan="2" class="col-xs-2" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>เลขประจำตัวผู้เสียภาษีอากร</span><br/>
                                            <span>ของผู้ซื้อสินค้า/ผู้รับบริการ</span>
                                        </font>
                                    </th>
                                    <th colspan="2" class="col-xs-1" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>สถานประกอบการ</span>
                                        </font>
                                    </th>
                                    <th rowspan="2" class="col-xs-1" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>มูลค่าสินค้า</span><br/>
                                            <span>หรือบริการ</span>
                                        </font>
                                    </th>
                                    <th rowspan="2" class="col-xs-1" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>จำนวนภาษี</span><br/>
                                            <span>มูลค่าเพิ่ม</span>
                                        </font>
                                    </th>
                                    <t t-if="company_id.show_total_tax_report">
                                        <th rowspan="2" class="col-xs-1" style="text-align: center; vertical-align: middle;">
                                            <font style="font-size: 14px;">
                                                <span>จำนวนเงิน</span><br/>
                                                <span>รวม</span>
                                            </font>
                                        </th>
                                    </t>
                                    <th rowspan="2" class="col-xs-1" style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>หมายเหตุ</span>
                                        </font>
                                    </th>

                                </tr>
                                <tr>
                                    <th style="text-align: center; vertical-align: middle;">
                                        <font style="font-size: 14px;">
                                            <span>วัน เดือน ปี</span>
                                        </font>
                                    </th>
                                    <th style="text-align: center; vertical-align: left;">
                                        <font style="font-size: 14px;">
                                            <span>เลขที่</span>
                                        </font>
                                    </th>
                                    <th style="text-align: center; vertical-align: left;">
                                        <font style="font-size: 14px;">
                                            <span>สำนักงานใหญ่</span>
                                        </font>
                                    </th>
                                    <th style="text-align: center; vertical-align: left;">
                                        <font style="font-size: 14px;">
                                            <span>สาขาที่</span>
                                        </font>
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="sale_tbody">
                                <t t-foreach="docs" t-as="o">
                                    <t t-if="o.state != 'cancel'">
                                        <t t-if="o.currency_id.id == company_id.currency_id.id">
                                            <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                <t t-set="sum_untaxed" t-value="sum_untaxed + o.amount_untaxed"/>
                                                <t t-set="sum_tax" t-value="sum_tax + o.amount_tax"/>
                                                <t t-set="sum_total" t-value="sum_total + o.amount_total"/>
                                            </t>
                                            <t t-if="o.type == 'out_refund'">
                                                <t t-set="sum_untaxed" t-value="sum_untaxed - o.amount_untaxed"/>
                                                <t t-set="sum_tax" t-value="sum_tax - o.amount_tax"/>
                                                <t t-set="sum_total" t-value="sum_total - o.amount_total"/>
                                            </t>
                                        </t>
                                        <t t-if="o.currency_id.id != company_id.currency_id.id">
                                            <t t-if="not o.adjust_move_id">
                                                <t t-set="total_amount" t-value="o.get_total_amount_multi_currency(o.move_id)"/>
                                                <t t-set="tax_amount" t-value="o.get_tax_amount_multi_currency(o.move_id)"/>
                                                <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                    <t t-set="sum_untaxed" t-value="sum_untaxed + total_amount - tax_amount"/>
                                                    <t t-set="sum_tax" t-value="sum_tax + tax_amount"/>
                                                    <t t-set="sum_total" t-value="sum_total + total_amount"/>
                                                </t>
                                                <t t-if="o.type == 'out_refund'">
                                                    <t t-set="sum_untaxed" t-value="sum_untaxed - total_amount + tax_amount"/>
                                                    <t t-set="sum_tax" t-value="sum_tax - tax_amount"/>
                                                    <t t-set="sum_total" t-value="sum_total - total_amount"/>
                                                </t>
                                            </t>
                                            <t t-if="o.adjust_move_id">
                                                <t t-set="total_amount" t-value="o.get_total_amount_multi_currency(o.move_id)"/>
                                                <t t-set="tax_amount" t-value="o.get_tax_amount_multi_currency(o.adjust_move_id)"/>
                                                <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                    <t t-set="sum_untaxed" t-value="sum_untaxed + total_amount - tax_amount"/>
                                                    <t t-set="sum_tax" t-value="sum_tax + tax_amount"/>
                                                    <t t-set="sum_total" t-value="sum_total + total_amount"/>
                                                </t>
                                                <t t-if="o.type == 'out_refund'">
                                                    <t t-set="sum_untaxed" t-value="sum_untaxed - total_amount + tax_amount"/>
                                                    <t t-set="sum_tax" t-value="sum_tax - tax_amount"/>
                                                    <t t-set="sum_total" t-value="sum_total - total_amount"/>
                                                </t>
                                            </t>

                                        </t>



                                    </t>
                                    <tr>
                                        <td style="text-align: center;">
                                            <font style="font-size: 14px;">
                                                <span t-esc="i"/>
                                            </font>
                                        </td>
                                        <t t-set="i" t-value="i+1"/>
                                        <td style="text-align: left;">
                                            <font style="font-size: 14px;">
                                                <t t-if="step == '1step'">
                                                    <t t-set="date" t-value="time.strptime(o.date_invoice,'%Y-%m-%d')"/>
                                                </t>
                                                <t t-if="step == '2step'">
                                                    <t t-set="date" t-value="time.strptime(o.tax_inv_date,'%Y-%m-%d')"/>
                                                </t>
                                                <span t-esc="date.tm_mday"/>/<span t-esc="date.tm_mon"/>/<span t-esc="date.tm_year"/>

                                            </font>
                                        </td>
                                        <td style="text-align: left;">
                                            <font style="font-size: 14px;">
                                                <t t-if="step == '1step'">
                                                    <span t-esc="o.number"/>
                                                </t>
                                                <t t-if="step == '2step'">
                                                    <span t-esc="o.tax_inv_no"/>
                                                </t>
                                            </font>
                                        </td>
                                        <td style="text-align: left;">
                                            <font style="font-size: 14px;">
                                                <t t-if="o.partner_id.parent_id">
                                                    <span t-esc="o.partner_id.parent_id.name"/>
                                                </t>
                                                <t t-if="not o.partner_id.parent_id">
                                                    <span t-esc="o.partner_id.name"/>
                                                </t>
                                            </font>
                                        </td>
                                        <td style="text-align: left;">
                                            <font style="font-size: 14px;">
                                                <t t-if="o.partner_id and o.partner_id.vat">
                                                    <span t-esc="o.partner_id.vat"/>
                                                </t>
                                            </font>
                                        </td>
                                        <t t-if="not int(o.partner_id.branch_no)">
                                            <td style="text-align: left;">
                                                <font style="font-size: 14px;">
                                                    <t t-if="o.partner_id and o.partner_id.branch_no">
                                                        <span t-esc="o.partner_id.branch_no"/>
                                                    </t>
                                                </font>
                                            </td>
                                            <td></td>
                                        </t>
                                        <t t-if="int(o.partner_id.branch_no)">
                                            <td></td>
                                            <td style="text-align: left;">
                                                <font style="font-size: 14px;">
                                                    <t t-if="o.partner_id and o.partner_id.branch_no">
                                                        <span t-esc="o.partner_id.branch_no"/>
                                                    </t>
                                                </font>
                                            </td>
                                        </t>
                                        <td style="text-align: right;">
                                            <font style="font-size: 14px;">
                                                <t t-if="o.state != 'cancel'">
                                                    <t t-if="o.currency_id.id == company_id.currency_id.id">
                                                        <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.amount_untaxed))"/>
                                                        </t>
                                                        <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                            <span/>
                                                        </t>
                                                        <t t-if="o.type == 'out_refund'">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.amount_untaxed * (-1)))"/>
                                                        </t>
                                                    </t>
                                                    <t t-if="o.currency_id.id != company_id.currency_id.id">
                                                        <t t-if="not o.adjust_move_id">
                                                            <t t-set="total_amount" t-value="o.get_total_amount_multi_currency(o.move_id)"/>
                                                            <t t-set="tax_amount" t-value="o.get_tax_amount_multi_currency(o.move_id)"/>
                                                            <t t-set="untaxed_amount" t-value="total_amount - tax_amount"/>

                                                            <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                                <span t-esc="'{0:,.2f}'.format(float(untaxed_amount))"/>
                                                            </t>
                                                            <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                                <span/>
                                                            </t>
                                                            <t t-if="o.type == 'out_refund'">
                                                                <span t-esc="'{0:,.2f}'.format(float(untaxed_amount * (-1)))"/>
                                                            </t>
                                                        </t>
                                                        <t t-if="o.adjust_move_id">
                                                            <t t-set="total_amount" t-value="o.get_total_amount_multi_currency(o.move_id)"/>
                                                            <t t-set="tax_amount" t-value="o.get_tax_amount_multi_currency(o.adjust_move_id)"/>
                                                            <t t-set="untaxed_amount" t-value="total_amount - tax_amount"/>

                                                            <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                                <span t-esc="'{0:,.2f}'.format(float(untaxed_amount))"/>
                                                            </t>
                                                            <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                                <span/>
                                                            </t>
                                                            <t t-if="o.type == 'out_refund'">
                                                                <span t-esc="'{0:,.2f}'.format(float(untaxed_amount * (-1)))"/>
                                                            </t>
                                                        </t>
                                                    </t>
                                                </t>
                                                <t t-if="o.state == 'cancel'">
                                                    <span t-esc="'{0:,.2f}'.format(float(0.00))"/>
                                                </t>
                                            </font>
                                        </td>
                                        <td style="text-align: right;">
                                            <font style="font-size: 14px;">
                                                <t t-if="o.state != 'cancel'">
                                                    <t t-if="o.currency_id.id == company_id.currency_id.id">
                                                        <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.amount_tax))"/>
                                                        </t>
                                                        <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                            <span/>
                                                        </t>
                                                        <t t-if="o.type == 'out_refund'">
                                                            <span t-esc="'{0:,.2f}'.format(float(o.amount_tax * (-1)))"/>
                                                        </t>
                                                    </t>

                                                    <t t-if="o.currency_id.id != company_id.currency_id.id">
                                                        <t t-if="not o.adjust_move_id">
                                                            <t t-set="tax_amount" t-value="o.get_tax_amount_multi_currency(o.move_id)"/>
                                                            <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                                <span t-esc="'{0:,.2f}'.format(float(tax_amount))"/>
                                                            </t>
                                                            <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                                <span/>
                                                            </t>
                                                            <t t-if="o.type == 'out_refund'">
                                                                <span t-esc="'{0:,.2f}'.format(float(tax_amount * (-1)))"/>
                                                            </t>
                                                        </t>
                                                        <t t-if="o.adjust_move_id">
                                                            <t t-set="tax_amount_2" t-value="o.get_tax_amount_multi_currency(o.adjust_move_id)"/>
                                                            <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                                <span t-esc="'{0:,.2f}'.format(float(tax_amount_2))"/>
                                                            </t>
                                                            <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                                <span/>
                                                            </t>
                                                            <t t-if="o.type == 'out_refund'">
                                                                <span t-esc="'{0:,.2f}'.format(float(tax_amount_2 * (-1)))"/>
                                                            </t>
                                                        </t>
                                                    </t>



                                                </t>
                                                <t t-if="o.state == 'cancel'">
                                                    <span t-esc="'{0:,.2f}'.format(float(0.00))"/>
                                                </t>
                                            </font>
                                        </td>
                                        <t t-if="company_id.show_total_tax_report">
                                            <td style="text-align: right;">
                                                <font style="font-size: 14px;">
                                                    <t t-if="o.state != 'cancel'">
                                                        <t t-if="o.currency_id.id == company_id.currency_id.id">
                                                            <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                                <span t-esc="'{0:,.2f}'.format(float(o.amount_total))"/>
                                                            </t>
                                                            <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                                <span/>
                                                            </t>
                                                            <t t-if="o.type == 'out_refund'">
                                                                <span t-esc="'{0:,.2f}'.format(float(o.amount_total * (-1)))"/>
                                                            </t>
                                                        </t>

                                                        <t t-if="o.currency_id.id != company_id.currency_id.id">
                                                            <t t-set="total_amount" t-value="o.get_total_amount_multi_currency(o.move_id)"/>
                                                            <t t-if="o.type == 'out_invoice' and not o.is_skip_gl">
                                                                <span t-esc="'{0:,.2f}'.format(float(total_amount))"/>
                                                            </t>
                                                            <t t-if="o.type == 'out_invoice' and o.is_skip_gl">
                                                                <span/>
                                                            </t>
                                                            <t t-if="o.type == 'out_refund'">
                                                                <span t-esc="'{0:,.2f}'.format(float(tax_amount * (-1)))"/>
                                                            </t>
                                                        </t>
                                                    </t>
                                                    <t t-if="o.state == 'cancel'">
                                                        <span t-esc="'{0:,.2f}'.format(float(0.00))"/>
                                                    </t>
                                                </font>
                                            </td>
                                        </t>
                                        <td>
                                            <font style="font-size: 14px;">
                                                <!--<span>อ้างอิง:</span>-->
                                                <!--<span t-esc="o.origin"/><br/>-->
                                                <span t-esc="o.name"/>
                                            </font>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                            <!--<tfoot>-->
                            <!--<tr>-->
                            <!--<div class="last-page">-->
                            <!--<td colspan="6"/>-->
                            <!--<td style="text-align: center;">-->
                            <!--<div class="not-last-page">-->
                            <!--<span/>-->
                            <!--</div>-->
                            <!--<div class="last-page">-->
                            <!--<font style="font-size: 14px;">-->
                            <!--<span>Total</span>-->
                            <!--</font>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--<td style="text-align: right;">-->
                            <!--<div class="not-last-page">-->
                            <!--<span/>-->
                            <!--</div>-->
                            <!--<div class="last-page">-->
                            <!--<font style="font-size: 14px;">-->
                            <!--<span t-esc="'{0:,.2f}'.format(float(sum_untaxed))"/>-->
                            <!--</font>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--<td style="text-align: right;">-->
                            <!--<div class="not-last-page">-->
                            <!--<span/>-->
                            <!--</div>-->
                            <!--<div class="last-page">-->
                            <!--<font style="font-size: 14px;">-->
                            <!--<span t-esc="'{0:,.2f}'.format(float(sum_tax))"/>-->
                            <!--</font>-->
                            <!--</div>-->
                            <!--</td>-->
                            <!--<td> </td>-->
                            <!--&lt;!&ndash;td style="text-align: right;">-->
                            <!--<font style="font-size: 14px;">-->
                            <!--<span t-esc="'{0:,.2f}'.format(float(sum_untaxed + sum_tax))"/>-->
                            <!--</font>-->
                            <!--</td&ndash;&gt;-->
                            <!--</div>-->
                            <!--</tr>-->
                            <!--</tfoot>-->
                        </table>
                    </div>
                    <div class="last-page">
                        <table class="table table-bordered1" width="100%">
                            <tr>
                                <t t-if="company_id.show_total_tax_report">
                                    <td width="69%" style="text-align: right;">
                                        <font style="font-size: 14px;">
                                            <span>รวม</span>
                                        </font>
                                    </td>
                                    <td width="7.5%" style="text-align: right;">
                                        <font style="font-size: 16px;">
                                            <span t-esc="'{0:,.2f}'.format(float(sum_untaxed))"/>
                                        </font>
                                    </td>
                                    <td width="7.5%" style="text-align: right;">
                                        <font style="font-size: 16px;">
                                            <span t-esc="'{0:,.2f}'.format(float(sum_tax))"/>
                                        </font>
                                    </td>
                                    <td width="7.5%" style="text-align: right;">
                                        <font style="font-size: 16px;">
                                            <span t-esc="'{0:,.2f}'.format(float(sum_total))"/>
                                        </font>
                                    </td>
                                    <td width="7%"/>
                                </t>
                                <t t-if="not company_id.show_total_tax_report">
                                    <td width="75%" style="text-align: right;">
                                        <font style="font-size: 14px;">
                                            <span>รวม</span>
                                        </font>
                                    </td>
                                    <td width="8%" style="text-align: right;">
                                        <font style="font-size: 16px;">
                                            <span t-esc="'{0:,.2f}'.format(float(sum_untaxed))"/>
                                        </font>
                                    </td>
                                    <td width="8%" style="text-align: right;">
                                        <font style="font-size: 16px;">
                                            <span t-esc="'{0:,.2f}'.format(float(sum_tax))"/>
                                        </font>
                                    </td>
                                    <td width="8%"/>
                                </t>
                            </tr>
                        </table>
                    </div>
                </div>

                <!--######if would like to put on the footer only-->
                <!--<div class="footer">-->
                <!--<div class="last-page">-->
                <!--<table class="table table-condensed" width="100%">-->
                <!--<tr>-->
                <!--<td width="50%"/>-->
                <!--<td width="10%" style="text-align: center;">-->
                <!--<font style="font-size: 14px;">-->
                <!--<span>Total</span>-->
                <!--</font>-->
                <!--</td>-->
                <!--<td width="10%" style="text-align: right;">-->
                <!--<font style="font-size: 14px;">-->
                <!--<span t-esc="'{0:,.2f}'.format(float(sum_untaxed))"/>-->
                <!--</font>-->
                <!--</td>-->
                <!--<td width="10%" style="text-align: right;">-->
                <!--<font style="font-size: 14px;">-->
                <!--<span t-esc="'{0:,.2f}'.format(float(sum_tax))"/>-->
                <!--</font>-->
                <!--</td>-->
                <!--</tr>-->
                <!--</table>-->
                <!--</div>-->
                <!--</div>-->
            </t>
        </template>
    </data>
</openerp>
